(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1035:function(e,t,n){"use strict";var i=n(1),o=n(16),a=n(19);t.a=function(e){var t=Object(o.b)("defaults","ui.item_small_preview_paths").map(function(t){return Object(i.a)(e.previews,t)}).reduce(function(e,t){return e||t});return t||""+a.a.assets.PUBLIC_PATH+Object(o.b)("defaults","ui.default_user_image_path")}},1040:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(19),r=n(973),s=n.n(r),u="".concat(a.a.assets.PUBLIC_PATH,"/images/trending-sash.svg");t.a=function(){return o.a.createElement("img",{className:s.a.trending,alt:"Trending",src:u})}},1055:function(e,t,n){"use strict";var i,o=n(0),a=(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r={side:function(e){var t,n,i=e.container,o=e.target,a=document.body.offsetWidth||document.documentElement&&document.documentElement.offsetWidth||0,r=i.getBoundingClientRect();return t=o.offsetHeight-i.offsetHeight,n=o.offsetWidth,Math.abs(t)>r.top&&(t=-r.top),o.offsetWidth+r.right>a&&(n=-i.offsetWidth),{left:n,top:t}}},s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={showContent:!1},t}return a(t,e),t.prototype.componentDidUpdate=function(){if(this.state.showContent&&this.$target&&this.$content){var e=this.getOverlayPosition(this.$content,this.$target);this.$content.style.left=e.left+"px",this.$content.style.top=e.top+"px"}},t.prototype.render=function(){var e=this;return o.createElement("div",{style:{position:"relative"}},this.state.showContent&&this.renderContent(),o.createElement("div",{ref:function(t){e.$target=t},style:{display:"inline-block"},onMouseEnter:this.onMouseEnter.bind(this),onMouseLeave:this.onMouseLeave.bind(this)},this.props.children))},t.prototype.onMouseEnter=function(){var e=this;this.timeoutId=window.setTimeout(function(){e.setState({showContent:!0})},500)},t.prototype.onMouseLeave=function(){clearTimeout(this.timeoutId),this.setState({showContent:!1})},t.prototype.renderContent=function(){var e=this;return o.createElement("div",{ref:function(t){e.$content=t},style:{display:"inline-block",position:"absolute"}},this.props.content)},t.prototype.getOverlayPosition=function(e,t){return"function"==typeof this.props.position?this.props.position({container:e,target:t}):r[this.props.position]({container:e,target:t})},t.defaultProps={position:"side"},t}(o.Component);t.a=s},1058:function(e,t,n){"use strict";var i=n(95),o=n(1),a=n(0),r=n(59),s=n(235),u=n(179),c=function(e){var t=e.name,n=e.authorName,i=e.priceInCents,o=e.classification,r=e.width,c=e.height,l=e.children;return a.createElement("div",{className:"magnifier",style:{width:r}},a.createElement("div",{className:"size-limiter",style:{height:c}},l),a.createElement("strong",null,t),a.createElement("div",{className:"info"},a.createElement("div",{className:"author-category"},"by ",a.createElement("span",{className:"author"},n)),i?a.createElement("div",{className:"price"},a.createElement("span",{className:"cost"},a.createElement("sup",null,"$"),Object(s.a)(i))):null),a.createElement("div",{className:"footer"},a.createElement("span",{className:"category"},o),a.createElement(u.a,{styleClassName:"gst-notice"})))};t.a=function(e){var t,n=e.item,s=e.videoMuted,u=e.muteVideo,l=n.previews,p=(t=n.classification)?t.split("/").map(function(e){return Object(r.e)(e)}).join(" / "):"";return a.createElement("div",{className:"fds-u-hide-small-and-below"},function(){var e=l.icon_with_square_preview;if(e&&e.square_url)return a.createElement(c,{name:n.name,authorName:n.author_username,priceInCents:n.price_cents,classification:p,width:300,height:300},a.createElement("img",{alt:Object(o.a)(n,"description"),src:e.square_url}));var t=l.icon_with_thumbnail_preview;if(t&&t.thumbnail_url){var r=t.thumbnail_width||300,h=t.thumbnail_height||300;return a.createElement(c,{name:n.name,authorName:n.author_username,priceInCents:n.price_cents,classification:p,width:r,height:h},a.createElement("img",{alt:Object(o.a)(n,"description"),src:t.thumbnail_url}))}var f=l.icon_with_video_preview;if(f&&f.video_url)return a.createElement(c,{name:n.name,authorName:n.author_username,priceInCents:n.price_cents,classification:p,width:477,height:264},a.createElement(i.BaseVideoPlayer,{playState:i.PlayState.PLAY,muteVideo:u,loop:!0,muted:s,preload:"none",src:f.video_url,poster:f.landscape_url}));var d=l.icon_with_landscape_preview;return d&&d.landscape_url?a.createElement(c,{name:n.name,authorName:n.author_username,priceInCents:n.price_cents,classification:p,width:477,height:240},a.createElement("img",{alt:Object(o.a)(n,"description"),src:d.landscape_url})):l.icon_with_audio_preview?a.createElement(c,{name:n.name,authorName:n.author_username,priceInCents:n.price_cents,classification:p,width:350}):null}())}},1059:function(e,t,n){"use strict";var i=n(0),o=n(972),a=function(e){var t=e.width,n=void 0===t?"100%":t,a=e.height,r=void 0===a?"100%":a,s=e.className,u=void 0===s?"":s,c=e.children;return i.createElement("div",{className:o.root+" "+u,style:{width:n,height:r}},c)};t.a=a},1084:function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var i=function(e,t){"undefined"!=typeof window&&window.localStorage&&window.localStorage.setItem(e,JSON.stringify(t))},o=function(e,t){if("undefined"!=typeof window&&window.localStorage){var n=JSON.parse(window.localStorage.getItem(e));return null==n?t:n}return t}},1114:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(1228),r=n.n(a);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function p(e){return(p=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.a=function(e){return function(t){function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),i=this,(t=!(o=p(n).call(this,e))||"object"!==s(o)&&"function"!=typeof o?h(i):o).state={inputValue:e.inputValue,isOpen:!1,focusedIndex:-1},t.handleInputFocus=t.handleInputFocus.bind(h(h(t))),t.handleInputChange=t.handleInputChange.bind(h(h(t))),t.handleKeyDown=t.handleKeyDown.bind(h(h(t))),t.handleKeyUp=t.handleKeyUp.bind(h(h(t))),t.setWrapperRef=t.setWrapperRef.bind(h(h(t))),t.handleDocumentClick=t.handleDocumentClick.bind(h(h(t))),t.handleMenuMouseEnter=t.handleMenuMouseEnter.bind(h(h(t))),t.handleMenuMouseLeave=t.handleMenuMouseLeave.bind(h(h(t))),t}var i,a,f;return i=n,(a=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("touchend",this.handleDocumentClick,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("touchend",this.handleDocumentClick,!0)}},{key:"componentWillReceiveProps",value:function(e){e.inputValue!==this.props.inputValue&&this.setState({inputValue:e.inputValue})}},{key:"setWrapperRef",value:function(e){null!==e&&(this.wrapper=e)}},{key:"setTextInputRef",value:function(e){null!==e&&(this.textInput=e)}},{key:"setMenuRef",value:function(e){null!==e&&(this.menu=e)}},{key:"handleDocumentClick",value:function(e){this.wrapper.contains(e.target)||this.setState({isOpen:!1})}},{key:"handleButtonFocus",value:function(){this.setState({isOpen:!1})}},{key:"handleInputChange",value:function(e){this.props.onInputChange&&this.props.onInputChange(e.target.value),this.state.isOpen||this.setState({isOpen:!0}),this.setState({inputValue:e.target.value})}},{key:"handleInputFocus",value:function(e){this.setState({isOpen:!0}),this.props.onInputFocus&&this.props.onInputFocus(e.target.value)}},{key:"onMenuClick",value:function(e,t){t.preventDefault(),this.props.onSelectOption&&this.props.onSelectOption(e,t),this.setState({isOpen:!1})}},{key:"handleKeyDown",value:function(e){switch(e.which){case r()("up"):case r()("down"):e.preventDefault();break;case r()("enter"):case r()("esc"):e.preventDefault()}}},{key:"handleKeyUp",value:function(e){var t=this.state,n=t.focusedIndex,i=t.inputValue,o=this.props.suggestions;switch(e.which){case r()("enter"):this.props.onSelectOption&&this.props.onSelectOption(-1===n?i:o[n],e),this.setState({isOpen:!1});break;case r()("esc"):this.setState({isOpen:!1,focusedIndex:-1});break;case r()("up"):this.setFocusedIndex("prev");break;case r()("down"):this.setFocusedIndex("next");break;default:this.setState({focusedIndex:-1}),e.preventDefault()}}},{key:"setFocusedIndex",value:function(e){var t=this.state,n=t.focusedIndex,i=t.inputValue,o=this.props.suggestions,a=o.length,r=-1===n,s=n===a-1;"prev"===e?0===n||r?this.setState({focusedIndex:a-1,inputValue:o[a-1]?o[a-1].text:i}):this.setState({focusedIndex:n-1,inputValue:o[n-1]?o[n-1].text:i}):"next"===e&&(s||r?this.setState({focusedIndex:0,inputValue:o[0]?o[0].text:i}):this.setState({focusedIndex:n+1,inputValue:o[n+1]?o[n+1].text:i}))}},{key:"handleMenuMouseEnter",value:function(e){this.setState({focusedIndex:e})}},{key:"handleMenuMouseLeave",value:function(){this.setState({focusedIndex:-1})}},{key:"onSearchDismiss",value:function(){this.setState({inputValue:""})}},{key:"render",value:function(){var t=this.state,n=t.focusedIndex,i=t.isOpen,a=t.inputValue,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){u(e,t,n[t])})}return e}({},this.props,{focusedIndex:n,inputValue:a,isOpen:i,wrapperRef:this.wrapper,textInputRef:this.textInput,setWrapperRef:this.setWrapperRef.bind(this),setMenuRef:this.setMenuRef.bind(this),setTextInputRef:this.setTextInputRef.bind(this),onMenuClick:this.onMenuClick.bind(this),handleMenuMouseEnter:this.handleMenuMouseEnter.bind(this),handleMenuMouseLeave:this.handleMenuMouseLeave.bind(this),handleInputChange:this.handleInputChange.bind(this),handleInputFocus:this.handleInputFocus.bind(this),handleKeyDown:this.handleKeyDown.bind(this),handleKeyUp:this.handleKeyUp.bind(this),onSearchDismiss:this.onSearchDismiss.bind(this),handleButtonFocus:this.handleButtonFocus.bind(this)});return o.a.createElement(e,r)}}])&&l(i.prototype,a),f&&l(i,f),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");c(e.prototype,t&&t.prototype),t&&c(e,t)}(n,t),n}(o.a.Component)}},1115:function(e,t,n){"use strict";var i=n(0),o=n(92);t.a=function(e){var t=e.TagName,n=void 0===t?"p":t,a=e.heading,r=e.subHeading,s=e.styles,u=void 0===s?{}:s;return i.createElement("div",{"data-test-selector":"SeoHeadings"},i.createElement(o.a,{Tag:n,className:u.seoHeading,html:a}),r&&i.createElement(o.a,{Tag:"h2",className:u.seoSubHeading,html:r}))}},1116:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(10),r=n.n(a);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement(r.a,s({viewBox:"0 0 512 512"},e),o.a.createElement("title",null,e.title||"Pause"),o.a.createElement("g",null,o.a.createElement("path",{d:"M224 435.8v-359.7c0-6.7-5.4-12.1-12.2-12.1h-71.6c-6.8 0-12.2 5.4-12.2 12.1v359.7c0 6.7 5.4 12.2 12.2 12.2h71.6c6.8 0 12.2-5.4 12.2-12.2zM371.8 64h-71.6c-6.7 0-12.2 5.4-12.2 12.1v359.7c0 6.7 5.4 12.2 12.2 12.2h71.6c6.7 0 12.2-5.4 12.2-12.2v-359.7c0-6.7-5.4-12.1-12.2-12.1z"})))}},1117:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(10),r=n.n(a);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}t.a=function(e){return o.a.createElement(r.a,s({viewBox:"0 0 512 512"},e),o.a.createElement("title",null,e.title||"Spinner"),o.a.createElement("g",null,o.a.createElement("path",{d:"M169.9 408c0 12.7-4.5 23.4-13.5 32.3s-19.7 13.3-32.1 13.3c-12.7 0-23.4-4.4-32.3-13.3s-13.3-19.7-13.3-32.3 4.4-23.4 13.3-32.3c8.9-8.9 19.6-13.3 32.3-13.3 12.5 0 23.2 4.4 32.1 13.3 9 8.8 13.5 19.6 13.5 32.3zm136.7 60.7c0 11.2-4 20.7-11.9 28.6-7.9 7.9-17.5 11.9-28.6 11.9-11.2 0-20.7-4-28.6-11.9-7.9-7.9-11.9-17.5-11.9-28.6 0-11.2 4-20.7 11.9-28.6 7.9-7.9 17.5-11.9 28.6-11.9 11.2 0 20.7 4 28.6 11.9 8 7.9 11.9 17.5 11.9 28.6zm-192.4-202.6c0 13.9-5 25.9-14.9 35.8s-21.8 14.9-35.8 14.9c-13.9 0-25.9-5-35.8-14.9s-14.9-21.8-14.9-35.8 5-25.9 14.9-35.8c9.9-9.9 21.8-14.9 35.8-14.9 13.9 0 25.9 5 35.8 14.9s14.9 21.9 14.9 35.8zm329.2 141.9c0 9.7-3.5 18-10.4 25-7 7-15.3 10.5-25 10.4-9.7 0-18.1-3.5-25-10.4s-10.4-15.3-10.4-25 3.5-18.1 10.4-25c7-6.9 15.3-10.4 25-10.4s18.1 3.5 25 10.4c6.9 6.9 10.4 15.3 10.4 25zm-263.4-283.7c0 15.4-5.4 28.5-16.3 39.4-10.9 10.9-24 16.3-39.4 16.3-15.4 0-28.5-5.4-39.4-16.3-10.9-10.9-16.3-24-16.3-39.4s5.4-28.5 16.3-39.4 24-16.3 39.4-16.3 28.5 5.4 39.4 16.3c10.9 10.9 16.3 24 16.3 39.4zm146.9-60.8c0 16.9-5.9 31.2-17.7 43.1s-26.2 17.7-43.1 17.7-31.2-5.9-43.1-17.7c-11.8-11.8-17.7-26.2-17.7-43.1 0-16.9 5.9-31.2 17.7-43.1 11.8-11.8 26.2-17.7 43.1-17.7s31.2 5.9 43.1 17.7 17.7 26.2 17.7 43.1zm172.2 202.6c0 8.4-3 15.6-8.9 21.5s-13.1 8.9-21.5 8.9-15.6-3-21.5-8.9-8.9-13.1-8.9-21.5 3-15.6 8.9-21.5 13.1-8.9 21.5-8.9 15.6 3 21.5 8.9c6 5.9 8.9 13.1 8.9 21.5zm-65.8-141.8c0 7-2.5 12.9-7.4 17.9-5 5-10.9 7.4-17.9 7.4-7 0-12.9-2.5-17.9-7.4-5-5-7.4-10.9-7.4-17.9s2.5-12.9 7.4-17.9c5-5 10.9-7.4 17.9-7.4 7 0 12.9 2.5 17.9 7.4 4.9 5 7.4 10.9 7.4 17.9z"})))}},1118:function(e,t,n){"use strict";var i=n(0),o=function(){return(o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&(n[i[o]]=e[i[o]])}return n};t.a=function(e){var t=e.options,n=a(e,["options"]);return i.createElement("select",o({},n),t.map(function(e){return i.createElement("option",{key:e.value,value:e.value},e.label)}))}},1136:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(5),r=n.n(a),s=n(31),u=n(1227),c=n(412),l=n(9),p="wss://suggest.market.envato.com/socket",h="autocomplete:standard",f=n(7),d=n(262),m=n(250),y=n(1084),g=function(){return(g=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},v=function(){function e(){}return e.addItem=function(t){var n=Object(y.a)(e.RECENT_SEARCH,[]);e.updateRecentSearch(n,t)},e.getRecentSearch=function(t,n){return Object(y.a)(e.RECENT_SEARCH,[]).map(function(i){return e.createSuggestion(i,t,n)})},e.updateRecentSearch=function(t,n){t.includes(n)?e.bringItemToFront(t,n):(e.ensureItemCount(t,e.MAX_COUNT-1),t.unshift(n)),Object(y.b)(e.RECENT_SEARCH,t)},e.bringItemToFront=function(e,t){var n=e.indexOf(t);e.splice(n,1),e.unshift(t)},e.ensureItemCount=function(e,t){e.length>t&&e.pop()},e.createSuggestion=function(e,t,n){return{link:n(g({},t,{term:e})),text:e}},e.RECENT_SEARCH="recentSearch",e.MAX_COUNT=5,e}(),b=n(365),k=n(430);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function O(e){return(O=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=function(t){function n(e){var t,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),i=this,(t=!(o=O(n).call(this,e))||"object"!==w(o)&&"function"!=typeof o?P(i):o).state={suggestions:[],inputValue:e.value||""},t.socketConnection=null,t.socketChannel=null,t.setSuggestions=t.setSuggestions.bind(P(P(t))),t.onInputChange=t.onInputChange.bind(P(P(t))),t.onSelectOption=t.onSelectOption.bind(P(P(t))),t.onInputFocus=t.onInputFocus.bind(P(P(t))),t}var i,a,r,s,y;return i=n,(a=[{key:"componentDidMount",value:function(){this.initSocket()}},{key:"componentWillUnmount",value:function(){this.closeSocket()}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({inputValue:e.value})}},{key:"initSocket",value:function(){var e=this,t=p,n=h;this.socketConnection=new u.Socket(t),this.socketChannel=this.socketConnection.channel(n,{}),this.socketConnection.connect(),this.socketChannel.on("new_msg",function(t){e.setSuggestions(t.body)}),this.socketChannel.join().receive("ok",function(){e.state.inputValue&&e.sendMessage(e.state.inputValue)}).receive("error",function(e){Object(f.g)(Object(f.d)({message:e}))})}},{key:"closeSocket",value:function(){this.socketConnection&&this.socketConnection.disconnect()}},{key:"sendMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.currentSite,n={body:e.trim().toLowerCase(),category:null,site:t||"themeforest"};this.socketConnection&&this.socketChannel&&this.socketConnection.isConnected()&&this.socketChannel.isJoined()&&this.socketChannel.push("new_msg",n).receive("error",function(e){Object(f.g)(Object(f.d)({message:e}))})}},{key:"setSuggestions",value:function(e){this.setState({suggestions:e})}},{key:"onInputChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.makeSearchLink;this.setState({inputValue:e}),""===e?this.setSuggestions(v.getRecentSearch({},t)):this.sendMessage(e)}},{key:"getLink",value:function(e){var t=this.props,n=t.locationParams,i=t.makeSearchLink,o=Object.assign({},n,{term:e});return delete o.page,i(o)}},{key:"getCategoryLink",value:function(e,t){var n=this.props,i=n.locationParams,o=n.makeSearchLink,a=Object.assign({},i,{category:e,term:t});return delete a.page,o(a)}},{key:"onSelectOption",value:(s=regeneratorRuntime.mark(function e(t,n){var i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.props.history,o=this.state.suggestions,"string"!=typeof t){e.next=8;break}if(!Object(k.a)(t)){e.next=5;break}return e.abrupt("return");case 5:a={text:t,link:this.getLink(t)},e.next=13;break;case 8:if("object"!==w(t)){e.next=13;break}if(!Object(k.a)(t.text)){e.next=11;break}return e.abrupt("return");case 11:a=Object.assign({},t),r={action:n&&"mousedown"===n.type?"click":"keyboard",label:t.text,suggestedTerm:o.map(function(e){return e.text})},Object(l.a)("set",{metric2:r.suggestedTerm.length,metric3:r.label.length,dimension16:r.suggestedTerm.join(",")}),Object(l.a)("send","event","autosuggestion",r.action||"click",r.label);case 13:a&&"string"==typeof a.text&&(""!==a.text&&v.addItem(a.text),this.setState({inputValue:a.text},function(){Object(b.a)(i,a.link)}));case 14:case"end":return e.stop()}var r},e,this)}),y=function(){var e=this,t=arguments;return new Promise(function(n,i){var o=s.apply(e,t);function a(e,t){try{var a=o[e](t),s=a.value}catch(e){return void i(e)}a.done?n(s):Promise.resolve(s).then(r,u)}function r(e){a("next",e)}function u(e){a("throw",e)}r()})},function(e,t){return y.apply(this,arguments)})},{key:"onInputFocus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props,n=t.locationParams,i=t.makeSearchLink;""===e&&this.setState({suggestions:v.getRecentSearch(n,i)})}},{key:"getCategorySuggestions",value:function(){var e=this,t=this.state.suggestions,n=this.props.currentSite,i=t.filter(function(e){return"c"===e.type}).map(function(t){return t.categories.map(function(i){return{link:e.getCategoryLink(i,t.text),type:t.type,text:t.text,category:Object(m.b)(n,i)||i}})});return Object(c.a)(i)}},{key:"getSuggestions",value:function(){var e=this,t=this.props.showCategories,n=this.state.suggestions.filter(function(e){return"c"!==e.type}).map(function(t){return t.link=e.getLink(t.text),t});return t?this.getCategorySuggestions().concat(n):n}},{key:"render",value:function(){var t=this.state.inputValue,n=this.props,i=n.locationParams,a=n.makeSearchLink,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){C(e,t,n[t])})}return e}({},this.props,{suggestions:this.getSuggestions(),onInputChange:this.onInputChange,onSelectOption:this.onSelectOption,inputValue:t,type:"search",onInputFocus:this.onInputFocus});return o.a.createElement(d.a,{locationParams:i,makeSearchLink:a},o.a.createElement(e,r))}}])&&S(i.prototype,a),r&&S(i,r),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");E(e.prototype,t&&t.prototype),t&&E(e,t)}(n,t),n}(o.a.Component);return C(t,"propTypes",{inputName:r.a.string.isRequired,placeholder:r.a.string,locationParams:r.a.object.isRequired,makeSearchLink:r.a.func.isRequired}),C(t,"defaultProps",{placeholder:""}),Object(s.withRouter)(t)}},1137:function(e,t,n){"use strict";var i=n(0),o=n.n(i),a=n(60),r=n(8),s=n(27),u=n(216),c=n.n(u),l=n(5),p=n.n(l),h=n(1),f=n(376),d=n(1116),m=n(1117),y=n(36),g=n(971),v=n.n(g);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function E(e){return(E=Object.getPrototypeOf||function(e){return e.__proto__})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=function(e){function t(e){var n,i,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i=this,(n=!(o=E(t).call(this,e))||"object"!==b(o)&&"function"!=typeof o?S(i):o).state={playing:!1,loading:!1,playBarProgress:0,playPromise:null},n.togglePlay=n.togglePlay.bind(S(S(n))),n.onPlay=n.onPlay.bind(S(S(n))),n.onPause=n.onPause.bind(S(S(n))),n.audioCanPlay=n.audioCanPlay.bind(S(S(n))),n.onAudioProgress=n.onAudioProgress.bind(S(S(n))),n.setAudioElementRef=n.setAudioElementRef.bind(S(S(n))),n}var n,i,a;return n=t,(i=[{key:"componentDidUpdate",value:function(e){this.audioElement&&e.isActive&&!this.props.isActive&&this.tryPause()}},{key:"onPause",value:function(){this.setState({playing:!1})}},{key:"onPlay",value:function(){Object(y.a)(Object(h.a)(this.props,"item.id")),this.props.onPlay(),this.setState({playing:!0}),c()(this.onAudioProgress)}},{key:"tryPause",value:function(){var e=this;this.state.playPromise&&this.state.playPromise.then(function(){e.audioElement&&e.audioElement.pause()})}},{key:"tryPlay",value:function(){var e=this;if(this.audioElement)return(this.audioElement.play()||Promise.resolve()).catch(function(t){if(e.audioElement)throw t})}},{key:"togglePlay",value:function(){var e=this.state.playing;if(this.audioElement){var t=this.audioElement.currentTime>0&&!this.audioElement.paused&&!this.audioElement.ended&&this.audioElement.readyState>2;e&&t?this.tryPause():t||(this.setState({playPromise:this.tryPlay()}),this.showLoading())}}},{key:"onAudioProgress",value:function(){this.state.playing&&(this.audioElement&&this.setState({playBarProgress:this.audioElement.currentTime/this.audioElement.duration}),c()(this.onAudioProgress))}},{key:"showLoading",value:function(){this.audioElement.seeking||this.audioElement.readyState<3?this.setState({loading:!0}):this.setState({loading:!1})}},{key:"audioCanPlay",value:function(){this.showLoading()}},{key:"setAudioElementRef",value:function(e){this.audioElement=e}},{key:"render",value:function(){var e=this.props.src,t=this.state,n=t.playing,i=t.loading,a=t.playBarProgress,r=null;return r=i?o.a.createElement(m.a,{className:v.a.spinningIcon}):n?o.a.createElement(d.a,{className:v.a.whiteIcon}):o.a.createElement(f.a,{className:v.a.icon}),o.a.createElement("div",{className:v.a.container},o.a.createElement("audio",{ref:this.setAudioElementRef,preload:"none",onPlay:this.onPlay,onPause:this.onPause,onCanPlay:this.audioCanPlay},o.a.createElement("source",{src:e,type:"audio/mpeg"})),o.a.createElement("button",{onClick:this.togglePlay,className:v.a.playButton},r),o.a.createElement("div",{className:v.a.progressBarContainer},o.a.createElement("div",{className:v.a.progressBar,style:{width:"".concat(100*a,"%")}})))}}])&&w(n.prototype,i),a&&w(n,a),function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");k(e.prototype,t&&t.prototype),t&&k(e,t)}(t,e),t}(o.a.Component);O(P,"propTypes",{src:p.a.string.isRequired,onPlay:p.a.func,isActive:p.a.bool}),O(P,"defaultProps",{onPlay:function(){}});var C=Object(r.b)(function(e,t){var n=e.searchPage.activeAudio;return{isActive:t.src&&t.src===n}},function(e,t){return{onPlay:function(){return e(Object(s.e)(t.src))}}})(P),_=n(1059),j=n(1040),I=n(961);t.a=function(e){var t=e.imageUrl,n=e.audioUrl,o=e.url,r=e.isTrending,s=e.name,u=e.onClick,c=e.rank,l=e.lazyLoad,p=void 0!==l&&l;return i.createElement("div",null,i.createElement("div",{className:I.miniAudioPlayerContainer},i.createElement(C,{src:n})),i.createElement("a",{className:I.thumbnail,href:o+"?s_rank="+c,onClick:u,"aria-label":s},r&&i.createElement(j.a,null),i.createElement(a.a,{disabled:!p,placeholder:i.createElement(_.a,null)},i.createElement("img",{alt:s,src:t,title:s,width:"80",height:"80"}))))}}}]);
//# sourceMappingURL=homePage~searchPage-b950573e8a097ba9380a.chunk.js.map